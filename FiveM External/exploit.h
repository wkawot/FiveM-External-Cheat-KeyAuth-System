#pragma once
#include "include.h"

namespace Vehicle {

	void VehColor(float R,float G ,float B) {
		DWORD64 vehiclemanager = read_mem<DWORD64>(localplayer + 0xD30);
		vehiclemanager = read_mem<DWORD64>(vehiclemanager + 0x48);
		vehiclemanager = read_mem<DWORD64>(vehiclemanager + 0x20);
		if (vehiclemanager) {
			//write_mem<float>(vehiclemanager + 0xA7, A);
			write_mem<float>(vehiclemanager + 0xAA, R);
			write_mem<float>(vehiclemanager + 0xA9, G);
			write_mem<float>(vehiclemanager + 0xA8, B);

		}
	}





	void FixEngine(float value) {
		DWORD64 vehiclemanager = read_mem<DWORD64>(localplayer + 0xD30);
		if (vehiclemanager) {
			write_mem<float>(vehiclemanager + 0x0280, value);
			write_mem<float>(vehiclemanager + 0x0840, value);
			write_mem<float>(vehiclemanager + 0x0908, value);
			write_mem<float>(vehiclemanager + 0x0844, value);
			write_mem<BYTE>(vehiclemanager + 0x0944,1);
		}
	}

	void GodModeVehicle(bool SEXO) {
		DWORD64 vehiclemanager = read_mem<DWORD64>(localplayer + 0xD30);
		if (vehiclemanager) {
			if (SEXO) {
				write_mem<float>(vehiclemanager + 0x189, 1);

			}
			else {
				write_mem<float>(vehiclemanager + 0x189, 0);

			}
		}
	}


	bool VehAc;
	float VehAc_value1;
	void VehicleAceleration(bool ss , float value) {
		DWORD64 vehiclemanager = read_mem<DWORD64>(localplayer + 0xD30);
		DWORD64 HAndLing = read_mem<DWORD64>(vehiclemanager + 0x938);

		if (!VehAc) {
			VehAc_value1 = read_mem<float>(HAndLing + 0x4C);
			VehAc = true;
		}

		if (vehiclemanager) {

			if (ss) {
				write_mem<float>(HAndLing + 0x4C, value);
			}
			else {
				VehAc = false;
				write_mem<float>(HAndLing + 0x4C, VehAc_value1);
			}
		}
	}

	

	bool VehBreak;
	float VehBreak_value;
	void VehicleBrakeForce(bool ss, float value) {
		DWORD64 vehiclemanager = read_mem<DWORD64>(localplayer + 0xD30);
		DWORD64 HAndLing = read_mem<DWORD64>(vehiclemanager + 0x938);

		if (!VehBreak) {
			VehBreak_value = read_mem<float>(HAndLing + 0x6C);
			VehBreak = true;
		}

		if (vehiclemanager) {

			if (ss) {
				write_mem<float>(HAndLing + 0x6C, value);
			}
			else {
				VehAc = false;
				write_mem<float>(HAndLing + 0x6C, 1);
			}
		}
	}

	void VehicleGravity(bool ss) {
		DWORD64 vehiclemanager = read_mem<DWORD64>(localplayer + 0xD30);
		if (vehiclemanager) {
			if (ss) {
				write_mem<float>(vehiclemanager + 0x189, 60.0);
			}
			else {
				write_mem<float>(vehiclemanager + 0x189, 9.8);
			}
		}
	}
}

namespace Weapons {

	void SetAmmoType(float value){
		DWORD64 WeaponMGR = read_mem<DWORD64>(localplayer + 0x10D8);
		if (WeaponMGR) {
			write_mem<float>(WeaponMGR + 0x20, value);
		}
	}

	void SetAmmoExplosiveType(float value) {
		DWORD64 WeaponMGR = read_mem<DWORD64>(localplayer + 0x10D8);
		if (WeaponMGR) {
			write_mem<float>(WeaponMGR + 0x24, value);
		}
	}

	void FillAmmo(float value) {
		DWORD64 LocalPL = read_mem<DWORD64>(localplayer + 0x10D8);
		DWORD64 weapon = read_mem<DWORD64>(LocalPL + 0x20);
		weapon = read_mem<DWORD64>(LocalPL + 0x60);
		weapon = read_mem<DWORD64>(LocalPL + 0x8);
		weapon = read_mem<uint32_t>(LocalPL + 0x8);

		if (weapon){
			write_mem<float>(weapon + 0x18, value);
		}
	}

	bool NoRec;
	float NoRecValue;
	void NoRecoil(bool sexy) {
		DWORD64 LocalPL = read_mem<DWORD64>(localplayer + 0x10D8);
		DWORD64 weaponmanager = read_mem<DWORD64>(LocalPL + 0x20);

		if (!NoRec){
			NoRecValue = read_mem<float>(weaponmanager + 0x2F4);
			NoRec = true;
		}

		if (weaponmanager)
		{
			if (sexy) {
				write_mem<float>(weaponmanager + 0x2F4, 0);
			}
			else {
				write_mem<float>(weaponmanager + 0x2F4, NoRecValue);
				NoRec = false;
			}
		}
	}

	bool NoSpreads;
	float NoSpreadValue;
	void NoSpread(bool sexy) {
		DWORD64 weaponmanager = read_mem<DWORD64>(localplayer + 0x10D8);
		weaponmanager = read_mem<DWORD64>(weaponmanager + 0x20);

		if (!NoSpread) {
			NoSpreadValue = read_mem<float>(weaponmanager + 0x74);
			NoSpreads = true;
		}
		if (weaponmanager)
		{
			if (sexy) {
				write_mem<float>(weaponmanager + 0x74, 0);
			}
			else {
				write_mem<float>(weaponmanager + 0x74, NoSpreadValue);
				NoSpreads = false;
			}
		}
	}

	bool NoReloa;
	float NoReloadValue;
	float NoReloadValue2;
	void NoReaload(bool sexy) {
		DWORD64 weaponmanager = read_mem<DWORD64>(localplayer + 0x10D8);
		weaponmanager = read_mem<DWORD64>(weaponmanager + 0x20);

		if (!NoReloa) {
			NoReloadValue = read_mem<float>(weaponmanager + 0x130);
			NoReloadValue2 = read_mem<float>(weaponmanager + 0x134);
			NoReloa = true;
		}
		if (weaponmanager) {
			if (sexy) {
				write_mem<float>(weaponmanager + 0x130, 10.f);
				write_mem<float>(weaponmanager + 0x134, 10.f);
			}
			else {
				write_mem<float>(weaponmanager + 0x130, NoReloadValue);
				write_mem<float>(weaponmanager + 0x134, NoReloadValue2);
				NoReloa = false;
			}
		}
	}

}

namespace Player {

	float GetHealth() {
		if (localplayer) {
			return read_mem<float>(localplayer + 0x280);
		}
	}

	float GetArmor() {
		if (localplayer) {
			return read_mem<float>(localplayer + 0x14B8);
		}
	}

	float GetMaxHealth() {
		if (localplayer) {
			return read_mem<float>(localplayer + 0x2A0);//0x02A0
		}
	}

	void Godmode(bool value) {
		if (localplayer) {
			if (value)
			write_mem<bool>(localplayer + 0x189, 1);

			if (!value)
				write_mem<bool>(localplayer + 0x189, 0);

		}
	}

	void Invisible(bool invis) {
		if (localplayer) {
			if (invis) {
				write_mem<BYTE>(localplayer + 0x2C, 0x1);
			}
			else {
				write_mem<BYTE>(localplayer + 0x2C, 0x37);
			}
		}
	}

	void SetArmor(float armor) {
		if (localplayer) {
			write_mem<float>(localplayer + 0x14B8, armor);
		}
	}

	void SetHealth(float health) {
		if (localplayer) {
			write_mem<float>(localplayer + 0x280, health);
			write_mem<float>(localplayer + 0x2A0, health);
		}
	}

	void SpeedWalk(bool sexy, float Speed) {
		uintptr_t playerinfo = read_mem<uintptr_t>(localplayer + 0x10C8);
		if (localplayer) {
			if (sexy) {
				write_mem<float>(playerinfo + 0xCF0, Speed);
			}
			else if (!sexy) {
				write_mem<float>(playerinfo + 0xCF0, 1);
			}
		}
	}

}